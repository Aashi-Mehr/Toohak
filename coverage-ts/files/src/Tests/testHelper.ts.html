
  <!DOCTYPE html>
  <html>
    <head>
      <title>testHelper.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src/Tests/testHelper.ts</td><td class="">96.78%</td><td class="">80%</td><td class="">404</td><td class="">391</td><td class="">13</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">

import request from &#x27;sync-request-curl&#x27;;
import { port, url } from &#x27;../config.json&#x27;;
import {
  Token,
  QuizId,
  QuizInfo,
  QuestionBody,
  QuestionId,
  ErrorObject,
  Details,
  QuizList,
} from &#x27;../dataStore&#x27;;

const SERVER_URL = `${url}:${port}`;

// DELETE CLEAR Define wrapper function
export function requestClear() {
  const res = request(
    &#x27;DELETE&#x27;,
    SERVER_URL + &#x27;/v1/clear&#x27;,
    {
      qs: {}
    }
  );

  return JSON.parse(res.body.toString());
}

// POST REGISTER Define wrapper function
export function requestRegister(email: string, password: string,
  nameFirst: string, nameLast: string): Token {
  const res = request(
    &#x27;POST&#x27;,
    SERVER_URL + &#x27;/v1/admin/auth/register&#x27;,
    {
      json: {
        email: email,
        password: password,
        nameFirst: nameFirst,
        nameLast: nameLast
      }
    }
  );

  const result = JSON.parse(res.body.toString());

  if (&#x27;error&#x27; in result) return { token: -1 };
  else return result;
}

// POST LOGIN Define wrapper function
export function requestLogin(email: string, password: string): Token {
  const res = request(
    &#x27;POST&#x27;,
    SERVER_URL + &#x27;/v1/admin/auth/login&#x27;,
    {
      json: {
        email: email,
        password: password
      }
    }
  );

  const result = JSON.parse(res.body.toString());

  if (&#x27;error&#x27; in result) return { token: -1 };
  else return result;
}

// GET DETAILS Define wrapper function
export function requestDetails(token: number): Details | ErrorObject {
  const res = request(
    &#x27;GET&#x27;,
    SERVER_URL + &#x27;/v1/admin/user/details?token=&#x27; + token,
    {
      qs: { }
    }
  );

  return JSON.parse(res.body.toString());
}

// POST LOGOUT Define wrapper function
export function requestLogout(token: number):
  ErrorObject | Record&lt;string, never&gt; {
  const res = request(
    &#x27;POST&#x27;,
    SERVER_URL + &#x27;/v1/admin/auth/logout&#x27;,
    {
      json: {
        token: token,
      }
    }
  );

  return JSON.parse(res.body.toString());
}

// PUT EDIT DETAILS Define wrapper function
export function requestDetailsEdit(token: number, email: string,
  nameFirst: string, nameLast: string): ErrorObject | Record&lt;string, never&gt; {
  const res = request(
    &#x27;PUT&#x27;,
    SERVER_URL + &#x27;/v1/admin/user/details&#x27;,
    {
      json: {
        token: token,
        email: email,
        nameFirst: nameFirst,
        nameLast: nameLast
      }
    }
  );

  return JSON.parse(res.body.toString());
}

// PUT EDIT PASSWORD Define wrapper function
export function requestPasswordEdit(token: number, oldPass: string,
  newPass: string): ErrorObject | Record&lt;string, never&gt; {
  const res = request(
    &#x27;PUT&#x27;,
    SERVER_URL + &#x27;/v1/admin/user/password&#x27;,
    {
      json: {
        token: token,
        oldPassword: oldPass,
        newPassword: newPass
      }
    }
  );

  return JSON.parse(res.body.toString());
}

// POST QUIZ CREATE Define wrapper function
export function requestQuizCreate(token: number, name: string,
  description: any): QuizId {
  const res = request(
    &#x27;POST&#x27;,
    SERVER_URL + &#x27;/v1/admin/quiz&#x27;,
    {
      json: {
        token: token,
        name: name,
        description: description
      }
    }
  );

  const result = JSON.parse(res.body.toString());

  if (&#x27;error&#x27; in result) return { quizId: -1 };
  else return result;
}

// GET QUIZ INFO Define wrapper function
export function requestQuizInfo(token: number | string, quizId: number):
  QuizInfo {
  const res = request(
    &#x27;GET&#x27;,
    SERVER_URL + &#x27;/v1/admin/quiz/&#x27; + quizId + &#x27;?token=&#x27; + token,
    {
      qs: { }
    }
  );
  return JSON.parse(res.body.toString());
}

// GET QUIZ LIST Define wrapper function
export function requestQuizList(token: number | string):
  QuizList | ErrorObject {
  const res = request(
    &#x27;GET&#x27;,
    SERVER_URL + &#x27;/v1/admin/quiz/list?token=&#x27; + token,
    {
      qs: {}
    }
  );
  const result = JSON.parse(res.body as string);

  if (&#x27;error&#x27; in result) return { error: &#x27;error&#x27; };
  else return result;
}

// PUT QUIZ DESCRIPTION UODATE Define Wrapper Function
export function requestQuizDescriptionUpdate(token: number | string,
  quizId: number, description: string) {
  const res = request(
    &#x27;PUT&#x27;,
    SERVER_URL + &#x27;/v1/admin/quiz/&#x27; + quizId + &#x27;/description&#x27;,
    {
      json: {
        token: token,
        description: description,
      }
    }
  );

  return JSON.parse(res.body.toString());
}

export function requestQuizNameUpdate(token: number, quizId: number,
  name: string) {
  const res = request(
    &#x27;PUT&#x27;,
    SERVER_URL + &#x27;/v1/admin/quiz/&#x27; + quizId + &#x27;/name&#x27;,
    {
      json: {
        token: token,
        name: name,
      }
    }
  );

  return JSON.parse(res.body.toString());
}

// QUIZ REMOVE Define wrapper function
export function requestQuizRemove(token: number, quizId: number):
  ErrorObject | Record&lt;string, never&gt; {
  const res = request(
    &#x27;DELETE&#x27;,
    SERVER_URL + &#x27;/v1/admin/quiz/&#x27; + quizId + &#x27;?token=&#x27; + token,
    {
      qs: { }
    }
  );
  return JSON.parse(res.body.toString());
}

export function requestQuestionCreate(token: number | string,
  quizId: number, questionBody: QuestionBody): QuestionId {
  const res = request(
    &#x27;POST&#x27;,
    SERVER_URL + &#x27;/v1/admin/quiz/&#x27; + quizId + &#x27;/question&#x27;,
    {
      json: {
        token: token,
        questionBody: questionBody,
      }
    }
  );

  return JSON.parse(res.body.toString());
}

export function requestQuizTransfer(token: number | string, quizId: number,
  userEmail: string) {
  const res = request(
    &#x27;POST&#x27;,
    SERVER_URL + &#x27;/v1/admin/quiz/&#x27; + quizId + &#x27;/transfer&#x27;,
    {
      json: {
        token: token,
        userEmail: userEmail,
      }
    }
  );
  return JSON.parse(res.body.toString());
}
// GET QUIZ TRASH Define wrapper function
export function requestQuizTrash(token: number): QuizList | ErrorObject {
  const res = request(
    &#x27;GET&#x27;,
    SERVER_URL + &#x27;/v1/admin/quiz/trash?token=&#x27; + token,
    {
      qs: { }
    }
  );
  // return JSON.parse(res.body.toString());
  const result = JSON.parse(res.body as string);

  if (&#x27;error&#x27; in result) { return { error: &#x27;error&#x27; }; } else { return result; }
}

// POST QUIZ RESTORE Define wrapper function
export function requestQuizRestore(token: number, quizId: number):
  ErrorObject | Record&lt;string, never&gt; {
  const res = request(
    &#x27;POST&#x27;,
    SERVER_URL + &#x27;/v1/admin/quiz/&#x27; + quizId + &#x27;/restore&#x27;,
    {
      json: {
        token: token,
      }
    }
  );
  return JSON.parse(res.body.toString());
}

// QUESTION MOVE Define wrapper function
export function requestQuesMove(token: number | string, newPosition: number,
  quesId: number, quizId: number): ErrorObject | Record&lt;string, never&gt; {
  const res = request(
    &#x27;PUT&#x27;,
    `${SERVER_URL}/v1/admin/quiz/${quizId}/question/${quesId}/move`,
    {
      json: {
        token: token,
        newPosition: newPosition
      }
    }
  );
  return JSON.parse(res.body.toString());
}

// QUESTION Duplicate Define wrapper function
export function requestQuesDup(token: number, quizid: number,
  questionid: number): QuestionId | ErrorObject {
  const res = request(
    &#x27;POST&#x27;,
    `${SERVER_URL}/v1/admin/quiz/${quizid}/question/${questionid}/duplicate`,
    {
      json: {
        token: token
      }
    }
  );
  return JSON.parse(res.body.toString());
}

// QUESTION Update Define wrapper function
export function requestQuesUpdate(token: number, quizId: number, quesId: number,
  questionBody: QuestionBody): ErrorObject | Record&lt;string, never&gt; {
  const res = request(
    &#x27;PUT&#x27;,
    `${SERVER_URL}/v1/admin/quiz/${quizId}/question/${quesId}`,
    {
      json: {
        token: token,
        questionBody: questionBody
      }
    }
  );

  return JSON.parse(res.body.toString());
}

// QUESTION Update Define wrapper function
export function requestQuesDelete(token: number, quizId: number,
  quesId: number): ErrorObject | Record&lt;string, never&gt; {
  const res = request(
    &#x27;DELETE&#x27;,
    `${SERVER_URL}/v1/admin/quiz/${quizId}/question/${quesId}?token=${token}`,
    {
      qs: { }
    }
  );

  return JSON.parse(res.body.toString());
}

// DELETE EMPTY TRASH Define Wrapper Function
export function requestQuizEmptyTrash(token: number, quizId: number[]):
  ErrorObject | Record&lt;string, never&gt; {
  const res = request(
    &#x27;DELETE&#x27;,
    SERVER_URL + &#x27;/v1/admin/quiz/trash/empty?quizIds=[&#x27; + quizId +
      &#x27;]&amp;token=&#x27; + token,
    {
      qs: { }
    }
  );
  return JSON.parse(res.body.toString());
}
</textarea><pre id="annotations" style="display:none">[{&quot;file&quot;:&quot;src/Tests/testHelper.ts&quot;,&quot;line&quot;:45,&quot;character&quot;:8,&quot;text&quot;:&quot;result&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Tests/testHelper.ts&quot;,&quot;line&quot;:47,&quot;character&quot;:17,&quot;text&quot;:&quot;result&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Tests/testHelper.ts&quot;,&quot;line&quot;:64,&quot;character&quot;:8,&quot;text&quot;:&quot;result&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Tests/testHelper.ts&quot;,&quot;line&quot;:66,&quot;character&quot;:17,&quot;text&quot;:&quot;result&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Tests/testHelper.ts&quot;,&quot;line&quot;:138,&quot;character&quot;:2,&quot;text&quot;:&quot;description&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Tests/testHelper.ts&quot;,&quot;line&quot;:146,&quot;character&quot;:8,&quot;text&quot;:&quot;description&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Tests/testHelper.ts&quot;,&quot;line&quot;:146,&quot;character&quot;:21,&quot;text&quot;:&quot;description&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Tests/testHelper.ts&quot;,&quot;line&quot;:151,&quot;character&quot;:8,&quot;text&quot;:&quot;result&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Tests/testHelper.ts&quot;,&quot;line&quot;:153,&quot;character&quot;:17,&quot;text&quot;:&quot;result&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Tests/testHelper.ts&quot;,&quot;line&quot;:180,&quot;character&quot;:8,&quot;text&quot;:&quot;result&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Tests/testHelper.ts&quot;,&quot;line&quot;:182,&quot;character&quot;:17,&quot;text&quot;:&quot;result&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Tests/testHelper.ts&quot;,&quot;line&quot;:272,&quot;character&quot;:8,&quot;text&quot;:&quot;result&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src/Tests/testHelper.ts&quot;,&quot;line&quot;:274,&quot;character&quot;:17,&quot;text&quot;:&quot;result&quot;,&quot;kind&quot;:1}]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Wed, 01 Nov 2023 00:14:18 GMT</p>
    </body>
  </html>
  